{# templates/contact.html #}
{% extends "layout.html" %}
{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="content-section py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10 col-lg-8 text-center">
                <h1 class="display-5 fw-bold mb-3">Get In Touch</h1>
                <p class="lead text-muted mb-4">
                    Have questions, feedback, or just want to say hello? Use the form below
                    to send us a message. We'll get back to you as soon as possible.
                </p>
            </div>
        </div>

        <div class="row justify-content-center mt-3">
            <div class="col-md-10 col-lg-8">
                {# Check if the contact form key was passed from the route #}
                {% if contact_form_key %}
                    {# Embed the FormGen form using an iframe #}
                    <div class="card shadow-sm">
                        <div class="card-body p-4"> {# Added padding #}
                            <iframe
                                {# --- MODIFY THIS LINE --- #}
                                src="{{ url_for('public_form', form_key=contact_form_key, _external=True, _scheme='https') }}"
                                {# --- END MODIFICATION --- #}
                                width="100%"
                                height="650" {# Adjust height as needed #}
                                frameborder="0"
                                title="Contact Us Form"
                                style="border: 1px solid #dee2e6; border-radius: 0.375rem;"
                            >Loading contact form...</iframe>
                        </div>
                    </div>
                {% else %}
                    {# Show message if key isn't configured #}
                    <div class="alert alert-warning" role="alert">
                      The contact form is currently unavailable. Please try again later.
                    </div>
                     {# Optionally add direct contact email here as fallback #}
                     {% endif %}
            </div>
        </div>

    </div> {# End container #}
</div> {# End content-section #}
{% endblock %}
